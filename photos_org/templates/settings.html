<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>ç³»ç»Ÿé…ç½® - å®¶åº­ç‰ˆæ™ºèƒ½ç…§ç‰‡ç³»ç»Ÿ</title>

    <!-- Bootstrap CSS - ä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ -->
    <link href="/static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/lib/bootstrap-icons/css/bootstrap-icons.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons å­—ä½“ä¿®å¤ -->
    <style>
        @font-face {
            font-display: block;
            font-family: "bootstrap-icons";
            src: url("/static/lib/bootstrap-icons/fonts/bootstrap-icons.woff2?2ab2cbbe07fcebb53bdaa7313bb290f2") format("woff2"),
                 url("/static/lib/bootstrap-icons/fonts/bootstrap-icons.woff?2ab2cbbe07fcebb53bdaa7313bb290f2") format("woff");
        }
    </style>
    
    <!-- CDNå¤‡ç”¨åŠ è½½ -->
    <script>
        // å¦‚æœæœ¬åœ°èµ„æºåŠ è½½å¤±è´¥ï¼Œå°è¯•CDN
        setTimeout(function() {
            const links = document.querySelectorAll('link[href*="/static/lib/"]');
            links.forEach(link => {
                if (!link.sheet) {
                    console.warn('æœ¬åœ°èµ„æºåŠ è½½å¤±è´¥ï¼Œå°è¯•CDN:', link.href);
                    if (link.href.includes('bootstrap.min.css')) {
                        link.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css';
                    } else if (link.href.includes('bootstrap-icons.min.css')) {
                        link.href = 'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css';
                    }
                }
            });
        }, 2000);
    </script>

    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <link href="/static/css/style.css?v=20250119_80" rel="stylesheet">
    <link href="/static/css/settings.css?v=20250119_80" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="/static/images/xuwh.ico" alt="æ™ºèƒ½ç…§ç‰‡ç³»ç»Ÿ" class="me-2" style="width: 32px; height: 32px;">
                æ™ºèƒ½ç…§ç‰‡ç³»ç»Ÿ
                <small class="ms-2 text-light opacity-75">2025.10.01</small>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../static/index.html" id="navPhotos" data-section="photos">
                            <i class="bi bi-grid-3x3-gap"></i> ç…§ç‰‡åº“
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#" id="navSettings" data-section="settings">
                            <i class="bi bi-gear"></i> ç³»ç»Ÿé…ç½®
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/help-overview" id="navHelp" data-section="help">
                            <i class="bi bi-info-circle"></i> åŠŸèƒ½è¯´æ˜
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/help-api-key" target="_blank">
                            <i class="bi bi-key"></i> APIå¯†é’¥å¸®åŠ©
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/help-gaode-api-key" target="_blank">
                            <i class="bi bi-geo-alt"></i>é«˜å¾·API Key
                        </a>
                    </li>
                </ul>

                <div class="d-flex">
                    <button class="btn btn-outline-light me-2" id="resetConfigBtn">
                        <i class="bi bi-arrow-clockwise"></i> é‡ç½®ä¸ºé»˜è®¤
                    </button>
                    <button class="btn btn-outline-light me-2" id="exportConfigBtn">
                        <i class="bi bi-download"></i> å¯¼å‡ºé…ç½®
                    </button>
                    <button class="btn btn-outline-light" id="saveConfigBtn">
                        <i class="bi bi-check-lg"></i> ä¿å­˜é…ç½®
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="container-fluid mt-4">

        <!-- é…ç½®è¡¨å• -->
        <form id="userConfigForm">
            <div class="row">
                <!-- AIæœåŠ¡è®¾ç½® -->
                <div class="col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white py-2">
                            <h6 class="mb-0">
                                <i class="bi bi-robot me-2"></i>
                                AIæœåŠ¡è®¾ç½®
                            </h6>
                        </div>
                        <div class="card-body py-2">
                            <div class="mb-2">
                                <label for="aiModel" class="form-label small">å¤§æ¨¡å‹é€‰æ‹©</label>
                                <select class="form-select form-select-sm" id="aiModel">
                                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                                </select>
                                <div class="form-text small">
                                    é€‰æ‹©ç”¨äºå›¾åƒåˆ†æçš„AIæ¨¡å‹<br>
                                    <span class="text-muted">å½“å‰å€¼: <span id="aiModelCurrent">åŠ è½½ä¸­...</span></span><br>
                                    <span class="text-muted">é»˜è®¤å€¼: <span id="aiModelDefault">åŠ è½½ä¸­...</span></span>
                                </div>
                            </div>
                            <div class="mb-2">
                                <label for="apiKey" class="form-label small">APIå¯†é’¥</label>
                                <div class="input-group input-group-sm">
                                    <input type="password" class="form-control" id="apiKey"
                                           placeholder="ç•™ç©ºåˆ™ä½¿ç”¨ç¯å¢ƒå˜é‡">
                                    <button class="btn btn-outline-secondary" type="button" id="toggleApiKeyVisibility">
                                        <i class="bi bi-eye-slash" id="apiKeyIcon"></i>
                                    </button>
                                </div>
                                <div class="form-text small">
                                    ä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡ DASHSCOPE_API_KEY<br>
                                    <span class="text-muted">å½“å‰å€¼: <span id="apiKeyCurrent">å·²è®¾ç½®</span></span><br>
                                    <span class="text-muted">é»˜è®¤å€¼: <span id="apiKeyDefault">åŠ è½½ä¸­...</span></span>
                                </div>
                            </div>
                            <div class="mb-2">
                                <button type="button" class="btn btn-outline-info btn-sm" id="helpApiKeyBtn">
                                    <i class="bi bi-question-circle me-1"></i>
                                    å¦‚ä½•è·å–APIå¯†é’¥
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å­˜å‚¨è®¾ç½® -->
                <div class="col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-success text-white py-2">
                            <h6 class="mb-0">
                                <i class="bi bi-folder me-2"></i>
                                å­˜å‚¨è®¾ç½®
                            </h6>
                        </div>
                        <div class="card-body py-2">
                            <!-- è¿œç¨‹è®¿é—®æç¤º - å­˜å‚¨ç›®å½•é…ç½®å·²ç§»é™¤ -->
                            <div class="row mb-3" id="remoteAccessNotice" style="display: none;">
                                <div class="col-12">
                                    <div class="alert alert-info alert-sm py-2 px-3">
                                        <i class="bi bi-info-circle me-2"></i>
                                        <strong>å­˜å‚¨ç›®å½•é…ç½®ï¼š</strong>æ­¤é…ç½®é¡¹ä»…é™æœ¬åœ°è®¿é—®ï¼Œè¿œç¨‹è®¿é—®æ—¶ä¸å¯è§ã€‚å¦‚éœ€ä¿®æ”¹å­˜å‚¨ç›®å½•ï¼Œè¯·åœ¨ä¸»æœºç«¯æ‰“å¼€é…ç½®é¡µé¢ã€‚
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ç…§ç‰‡å¤§å°é™åˆ¶è®¾ç½® -->
                            <div class="row mb-3">
                                <div class="col-12">
                                    <label for="maxFileSize" class="form-label small">ç…§ç‰‡å¤§å°é™åˆ¶</label>
                                    <select class="form-select form-select-sm" id="maxFileSize">
                                        <option value="26214400">25MB</option>
                                        <option value="52428800" selected>50MB</option>
                                        <option value="104857600">100MB</option>
                                        <option value="209715200">200MB</option>
                                    </select>
                                    <div class="form-text small">
                                        <span class="text-muted">å½“å‰å€¼: <span id="maxFileSizeCurrent">50MB</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="maxFileSizeDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                            </div>

                            <!-- æ–‡ä»¶è·¯å¾„è®¾ç½® - å·²ç§»é™¤ï¼Œç”¨æˆ·ä¸å¯é…ç½® -->
                            <div class="row mb-3" id="storagePathSection" style="display: none;">
                                <div class="col-12">
                                    <label for="photosPath" class="form-label small">ç…§ç‰‡å­˜å‚¨ç›®å½•</label>
                                    <div class="input-group input-group-sm">
                                        <input type="text" class="form-control" id="photosPath"
                                               value="./photos_storage">
                                        <button class="btn btn-outline-secondary" type="button" id="selectPhotosPath">
                                            <i class="bi bi-folder"></i>
                                        </button>
                                    </div>
                                    <div class="form-text small">
                                        ç…§ç‰‡æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ï¼ˆç‚¹å‡»æ–‡ä»¶å¤¹å›¾æ ‡é€‰æ‹©ç›®å½•ï¼‰<br>
                                        <div class="alert alert-warning alert-sm py-1 px-2 mt-2 mb-2">
                                            <i class="bi bi-exclamation-triangle me-1"></i>
                                            <strong>é‡è¦æé†’ï¼š</strong>æ›´æ”¹å­˜å‚¨ç›®å½•å‰ï¼Œè¯·å…ˆå°†åŸç›®å½•ä¸‹çš„æ‰€æœ‰ç…§ç‰‡æ•°æ®å¤åˆ¶åˆ°æ–°ç›®å½•ï¼Œå¦åˆ™åŸæœ‰ç…§ç‰‡å°†æ— æ³•æ‰¾åˆ°ï¼Œæ•°æ®åº“ä¿¡æ¯ä¹Ÿä¼šå¤±æ•ˆï¼æ›´æ”¹åè¯·ç«‹å³é‡å¯æœåŠ¡ï¼
                                        </div>
                                        <span class="text-muted">å½“å‰å€¼: <span id="photosPathCurrent">./photos_storage</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="photosPathDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ç¼©ç•¥å›¾è®¾ç½® - ä¸€è¡Œä¸¤åˆ— -->
                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="thumbnailQuality" class="form-label small">ç¼©ç•¥å›¾è´¨é‡</label>
                                    <input type="range" class="form-range" id="thumbnailQuality" 
                                           min="1" max="100" value="85">
                                    <div class="d-flex justify-content-between">
                                        <small>1%</small>
                                        <small id="thumbnailQualityValue">85%</small>
                                        <small>100%</small>
                                    </div>
                                    <div class="form-text small">
                                        <span class="text-muted">å½“å‰å€¼: <span id="thumbnailQualityCurrent">85%</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="thumbnailQualityDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="thumbnailSize" class="form-label small">ç¼©ç•¥å›¾å°ºå¯¸</label>
                                    <input type="range" class="form-range" id="thumbnailSize" 
                                           min="100" max="1000" value="300">
                                    <div class="d-flex justify-content-between">
                                        <small>100px</small>
                                        <small id="thumbnailSizeValue">300px</small>
                                        <small>1000px</small>
                                    </div>
                                    <div class="form-text small">
                                        <span class="text-muted">å½“å‰å€¼: <span id="thumbnailSizeCurrent">300px</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="thumbnailSizeDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                            </div>
                            <!-- ç…§ç‰‡å¤§å°é™åˆ¶å·²ç§»åˆ°ç…§ç‰‡å­˜å‚¨ç›®å½•åŒä¸€è¡Œ -->
                        </div>
                    </div>
                </div>
                
                <!-- ç•Œé¢è®¾ç½® -->
                <div class="col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-warning text-dark py-2">
                            <h6 class="mb-0">
                                <i class="bi bi-display me-2"></i>
                                ç•Œé¢è®¾ç½®
                            </h6>
                        </div>
                        <div class="card-body py-2">
                            <div class="row">
                                <div class="col-6">
                                    <div class="mb-2">
                                        <label for="photosPerPage" class="form-label small">æ¯é¡µæ˜¾ç¤ºç…§ç‰‡æ•°</label>
                                        <select class="form-select form-select-sm" id="photosPerPage">
                                            <option value="6">6å¼ </option>
                                            <option value="12" selected>12å¼ </option>
                                            <option value="18">18å¼ </option>
                                            <option value="24">24å¼ </option>
                                            <option value="30">30å¼ </option>
                                        </select>
                                        <div class="form-text small">
                                            <span class="text-muted">å½“å‰å€¼: <span id="photosPerPageCurrent">12å¼ </span></span><br>
                                            <span class="text-muted">é»˜è®¤å€¼: <span id="photosPerPageDefault">åŠ è½½ä¸­...</span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="mb-2">
                                        <label for="similarPhotosLimit" class="form-label small">ç›¸ä¼¼ç…§ç‰‡æ˜¾ç¤ºæ•°é‡</label>
                                        <select class="form-select form-select-sm" id="similarPhotosLimit">
                                            <option value="4">4å¼ </option>
                                            <option value="8" selected>8å¼ </option>
                                            <option value="12">12å¼ </option>
                                        </select>
                                        <div class="form-text small">
                                            <span class="text-muted">å½“å‰å€¼: <span id="similarPhotosLimitCurrent">8å¼ </span></span><br>
                                            <span class="text-muted">é»˜è®¤å€¼: <span id="similarPhotosLimitDefault">åŠ è½½ä¸­...</span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- çƒ­é—¨æ ‡ç­¾å’Œåˆ†ç±»é…ç½®å·²ç§»é™¤ï¼Œå› ä¸ºå‰ç«¯æ²¡æœ‰å®é™…ä½¿ç”¨è¿™äº›æ•°æ® -->
                        </div>
                    </div>
                </div>
                
                <!-- æœç´¢è®¾ç½® -->
                <div class="col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-info text-white py-2">
                            <h6 class="mb-0">
                                <i class="bi bi-search me-2"></i>
                                æœç´¢è®¾ç½®
                            </h6>
                        </div>
                        <div class="card-body py-2">
                            <!-- æœç´¢è®¾ç½® - ä¸€è¡Œä¸¤åˆ— -->
                            <div class="row">
                                <div class="col-6">
                                    <label for="similarityThreshold" class="form-label small">ç›¸ä¼¼åº¦é˜ˆå€¼</label>
                                    <input type="range" class="form-range" id="similarityThreshold" 
                                           min="0" max="1" step="0.1" value="0.8">
                                    <div class="d-flex justify-content-between">
                                        <small>0.0 (å®½æ¾)</small>
                                        <small id="similarityThresholdValue">0.8</small>
                                        <small>1.0 (ä¸¥æ ¼)</small>
                                    </div>
                                    <div class="form-text small">
                                        ç”¨äºç›¸ä¼¼ç…§ç‰‡æœç´¢çš„é˜ˆå€¼<br>
                                        <span class="text-muted">å½“å‰å€¼: <span id="similarityThresholdCurrent">0.8</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="similarityThresholdDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="duplicateThreshold" class="form-label small">é‡å¤æ£€æµ‹é˜ˆå€¼</label>
                                    <input type="range" class="form-range" id="duplicateThreshold" 
                                           min="1" max="20" value="5">
                                    <div class="d-flex justify-content-between">
                                        <small>1 (ä¸¥æ ¼)</small>
                                        <small id="duplicateThresholdValue">5</small>
                                        <small>20 (å®½æ¾)</small>
                                    </div>
                                    <div class="form-text small">
                                        ç”¨äºé‡å¤ç…§ç‰‡æ£€æµ‹çš„é˜ˆå€¼<br>
                                        <span class="text-muted">å½“å‰å€¼: <span id="duplicateThresholdCurrent">5</span></span><br>
                                        <span class="text-muted">é»˜è®¤å€¼: <span id="duplicateThresholdDefault">åŠ è½½ä¸­...</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                
                <!-- åœ°ç†ç¼–ç è®¾ç½® -->
                <div class="col-lg-6 mb-3">
                    <div class="card h-100">
                        <div class="card-header bg-info text-white py-2">
                            <h6 class="mb-0">
                                <i class="bi bi-geo-alt me-2"></i>
                                åœ°å€è§£æè®¾ç½®
                            </h6>
                        </div>
                        <div class="card-body py-2">
                            <div class="mb-2">
                                <label for="defaultGeocodingService" class="form-label small">é»˜è®¤åœ°å€è§£ææœåŠ¡</label>
                                <select class="form-select form-select-sm" id="defaultGeocodingService">
                                    <option value="ask">æ¯æ¬¡éƒ½è¯¢é—®</option>
                                    <option value="amap">é«˜å¾·åœ°å›¾API (æ¨è)</option>
                                    <option value="offline">ç¦»çº¿æ•°æ®åº“</option>
                                    <option value="nominatim">Nominatim API (éœ€ç§‘å­¦ä¸Šç½‘)</option>
                                </select>
                                <div class="form-text small">
                                    <span class="text-muted">é€‰æ‹©é»˜è®¤ä½¿ç”¨çš„åœ°å€è§£ææœåŠ¡</span>
                                </div>
                            </div>
                            
                            <div class="mb-2">
                                <label for="amapApiKey" class="form-label small">é«˜å¾·åœ°å›¾APIå¯†é’¥</label>
                                <div class="input-group input-group-sm">
                                    <input type="password" class="form-control" id="amapApiKey" placeholder="è¯·è¾“å…¥APIå¯†é’¥">
                                    <button class="btn btn-outline-secondary" type="button" id="testAmapApi">
                                        <i class="bi bi-check-circle"></i> æµ‹è¯•
                                    </button>
                                </div>
                                <div class="form-text small">
                                    <span class="text-muted">ç”¨äºå›½å†…åœ°å€è§£æï¼Œæé«˜å‡†ç¡®æ€§</span>
                                    <br>
                                    <span class="text-info">å½“å‰å€¼: <span id="amapApiKeyCurrent">æœªè®¾ç½®</span></span>
                                </div>
                            </div>
                            
                            <div class="mb-2">
                                <label class="form-label small">æœåŠ¡è¯´æ˜</label>
                                <div class="service-comparison">
                                    <div class="row">
                                        <div class="col-4">
                                            <div class="service-info p-2 border rounded">
                                                <h6 class="mb-1">ğŸŒ é«˜å¾·åœ°å›¾API</h6>
                                                <ul class="small mb-0">
                                                    <li>å›½å†…åœ°å€è¯¦ç»†å‡†ç¡®</li>
                                                    <li>æ”¯æŒä¸­æ–‡åœ°å€</li>
                                                    <li>éœ€è¦ç½‘ç»œè¿æ¥</li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="service-info p-2 border rounded">
                                                <h6 class="mb-1">ğŸ  ç¦»çº¿æ•°æ®åº“</h6>
                                                <ul class="small mb-0">
                                                    <li>æ— éœ€ç½‘ç»œè¿æ¥</li>
                                                    <li>å…¨çƒä¸»è¦åŸå¸‚</li>
                                                    <li>åœ°å€ä¿¡æ¯ç›¸å¯¹ç®€å•</li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="service-info p-2 border rounded">
                                                <h6 class="mb-1">ğŸŒ Nominatim API</h6>
                                                <ul class="small mb-0">
                                                    <li>å…¨çƒåœ°å€è¦†ç›–</li>
                                                    <li>å…è´¹æ— éœ€APIå¯†é’¥</li>
                                                    <li><span class="text-warning">éœ€è¦ç§‘å­¦ä¸Šç½‘</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <!-- é…ç½®çŠ¶æ€æç¤º -->
        <div class="row">
            <div class="col-12">
                <div id="configStatus" class="alert alert-info d-none">
                    <i class="bi bi-info-circle me-2"></i>
                    <span id="configStatusText">é…ç½®å·²ä¿å­˜</span>
                </div>
            </div>
        </div>
    </div>

    <!-- é…ç½®ç¡®è®¤æ¨¡æ€æ¡† -->
    <div class="modal fade" id="configConfirmModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ç¡®è®¤é…ç½®æ›´æ”¹</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>æ‚¨ç¡®å®šè¦ä¿å­˜è¿™äº›é…ç½®æ›´æ”¹å—ï¼Ÿ</p>
                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        æŸäº›é…ç½®æ›´æ”¹å¯èƒ½éœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½å®Œå…¨ç”Ÿæ•ˆã€‚
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary" id="confirmSaveConfig">ç¡®è®¤ä¿å­˜</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS - ä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ -->
    <script src="/static/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- CDNå¤‡ç”¨åŠ è½½ -->
    <script>
        // å¦‚æœæœ¬åœ°Bootstrap JSåŠ è½½å¤±è´¥ï¼Œå°è¯•CDN
        setTimeout(function() {
            if (typeof bootstrap === 'undefined') {
                console.warn('æœ¬åœ°Bootstrap JSåŠ è½½å¤±è´¥ï¼Œå°è¯•CDN');
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js';
                script.onload = function() {
                    console.log('CDN Bootstrap JSåŠ è½½æˆåŠŸ');
                    // é‡æ–°åˆå§‹åŒ–UIç»„ä»¶
                    if (typeof window.configManager === 'undefined' && typeof UserConfigManager !== 'undefined') {
                        window.configManager = new UserConfigManager();
                    }
                };
                document.head.appendChild(script);
            }
        }, 2000);
    </script>

    <!-- è‡ªå®šä¹‰JavaScript -->
    <script src="/static/js/app-utils.js?v=20250119_80"></script>
    <script src="/static/js/user-config-manager.js?v=20250119_80"></script>
    <script src="/static/js/settings-init.js?v=20250119_80"></script>
</body>
</html>
