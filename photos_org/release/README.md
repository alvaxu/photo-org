# 家庭版智能照片系统V6 MSIX版 - 使用说明

**数据永不离身，绝对隐私无忧**  *基于AI技术的智能照片管理平台*



---

## 一、系统概述

基于AI技术的智能照片管理平台，支持照片**去重导入**（导入照片时自动去除名字不同的同一张照片）、分析、分类、标签生成、**人脸识别与根据肖像快速查询**、**GPS转地址多服务解析**、**图像特征提取与相似照搜索**、支持对照片及其信息的增删改查、播放和下载。

🌟**数据永不离身，绝对隐私无忧：**您的照片数据始终存储在您控制的本地设备中，既可以安心放在家里，也可以随身携带。从不上传到任何云端服务，彻底杜绝泄密风险，确保家庭隐私完全自主掌控。

### 🛡️ 核心特性


| 🔒 数据永不离身<br>隐私无忧 | 🏠 家庭组网<br>随时随地访问 | 🤖 智能分析<br>灵活选择 |
|:---:|:---:|:---:|
| ✅ 放在家里安心<br>✅ 从不上传云端<br>✅ 本地存储便携<br>✅ 隐私完全自主掌控 | ✅ 一台主机多端同步<br>✅ 多设备无缝访问<br>✅ 触摸友好操作<br>✅ 家庭共享协作 | ✅ 基础分析（获取数据）<br>✅ AI分析（深度识别）<br>✅ 人脸识别<br>✅ 重复检测 |


| 🔍 超强搜索和统计功能 | 👤 人脸识别与管理 | 📍 GPS转地址<br>多服务 |
|:---:|:---:|:---:|
| ✅ 肖像搜索人物同框照<br>✅ 全文搜索多条件筛选<br>✅ 相似照片匹配<br>✅ 超强统计功能 | ✅ 自动识别照片上的人脸<br>✅ AI智能聚类<br>✅ 本地处理安全<br>✅ 按人物筛选 | ✅ 高德API/Nominatim/离线<br>✅ 自由选择服务<br>✅ 批量/单张转换<br>✅ 支持全球地址解析 |

---

## 二、快速开始

### 🪟 Windows 用户

1. 下载安装**最新版**软件
2. 找到并双击新安装的“**家庭版智能照片系统**”图标，启动系统
3. 初次启动，按提示创建存放照片和数据库的目录，建议选择空间足够放你所有照片的磁盘。
4. 系统启动后，会自动打开默认浏览器进入照片系统
5. 注意：启动完成后，请不要关闭启动窗口
6. 如果你担心磁盘损坏导致照片丢失，建议你经常将你存放照片和数据库的目录拷贝到别的地方作为备份。

### 🌐 访问系统


🎉 **系统启动完成后，会自动打开默认浏览器进入照片系统页面，或者在浏览器中访问：** `http://127.0.0.1:8000`

同一家庭网络的其他设备，可通过扫描主机页面上的二维码访问系统，既方便又快捷。

**导航栏功能：** 页面顶部提供快速入口，包括**导入照片**、**基础分析**、**特征提取（新增功能）**、**人脸识别**、**GPS转地址**、**AI分析(可选)**等核心功能按钮。

![屏幕截图 2025-10-16 205620](images/imagedemo1.png)

![屏幕截图 2025-10-16 205620](images/imagedemo2.png)

![image-20251017134048238](images/imagedemo3.png)

### ⚙️ 首次使用建议

1. 导入照片到系统中
2. 先进行**基础分析**（本地快速的基础数据提取、分析和质量评估）
3. 运行**特征提取**（基于ResNet50提取图像特征向量，用于高精度相似照片搜索）
4. 启动**人脸识别**（本地AI模型，自动聚类人物，用于基于人脸筛选）
5. 进行**GPS转地址**（选择高德、Nominatim或离线三种服务中的一种进行地址解析）
6. 使用智能搜索和筛选功能管理照片
7. 享受智能照片管理体验！
8. 还可以申请并配置免费额度大模型API密钥以便对照片进行更深入AI分析
9. 如选用高德API解析照片地址，也需申请并配置免费额度高德API密钥

---

## 三、核心功能使用

### 3.1 📥 照片导入

系统支持多种方式导入照片，确保您的家庭照片库完整且有序。

- **单文件上传：** 点击"导入照片"按钮，选择单个文件上传
- **文件夹扫描：** 选择"扫描文件夹"模式，批量导入整个文件夹
- **智能处理：** 自动生成缩略图，支持同时处理多张照片
- **格式支持：** JPG、PNG、HEIC等多种常见照片格式
- **处理过程：**批量处理时，当前浏览器窗口可实时显示进度和处理结果，建议不要关闭，但可以打开新窗口访问照片

### 3.2 🤖 智能分析（基础分析 + AI分析）

系统提供两种分析功能，基础分析获取基础信息并做质量评估，AI分析对照片进行深度分析。

#### 🎯 分析功能分为两步


| 📊 基础分析 | 🤖 AI分析（需申请AI密钥） |
|:----|:----|
| ✅ **质量评估：** 分析照片的技术质量，包括清晰度、亮度、对比度、色彩、构图等指标<br>✅ **基础标签：**生成时间标签、节假日标签、EXIF标签等基础信息<br>✅ **无需网络：**可在离线环境下使用，速度快<br>✅**重新分析:** 处理过的照片可以重新分析 | ✅ **AI内容分析：** 使用千问大模型识别照片中的物体、场景、人物情感等，生成详细描述<br>✅ **智能分类：**基于AI分析结果自动为照片添加合适的标签和分类<br>✅ **需要网络：**需要有效的API密钥和上网连接<br> ✅**重新分析:** 处理过的照片可以重新分析 |

#### ⚠️ 提示
- 因为系统已经有了本地的人脸识别等功能，因此AI分析的必要性就不是特别大了

- 批量分析时，当前浏览器窗口可实时显示进度和处理结果，建议不要关闭，但可以打开新窗口访问照片

  

### 3.3 📍 GPS转地址（多服务支持）

将照片中的GPS坐标信息转换为可读的地理地址，支持多种解析服务，功能更强大。

#### 🌍 GPS转地址功能


| 🎯 支持的服务 | ⚙️ 配置要求 |
|:----|:---:|
| ✅ **高德API：** 国内地址详细准确，需上网<br>✅ **离线模式：**全球主要城市名，无需网络，<br>✅ **Nominatim API：**全球地址详细准确，需科学上网<br>✅ **批量/单张：**支持批量转换和单张照片转换<br>✅**重新解析:** 支持重新解析已转换的地址 | ⚠️ **高德API：** 需申请和配置API密钥<br>⚠️ **离线模式：**无需任何配置<br>⚠️ **Nominatim API：**无需密钥，需VPN<br>⚠️ **智能选择：**用户可按需选定一种服务，也可每次转换前选择<br>⚠️ **GPS信息：**照片必须包含GPS坐标信息 |

#### ⚠️ GPS转地址注意事项

**照片要求：**

- 相机必须在拍摄时开启GPS定位
- iPhone手机拍照前需设置允许相机访问位置信息
- GPS信息不完整的照片无法转换

**处理时间：**

- 离线模式处理速度最快，高德API和Nominatim API因为免费原因有限流要求，约为每秒1张照片
- 当前浏览器窗口可显示最终处理结果，建议不要关闭，但可以打开新窗口访问照片

### 3.4 👤 人脸识别与人物管理

智能识别照片中的人脸，自动聚类同一个人物，方便您按人物浏览和整理家庭照片。

#### 🔍 人脸识别功能

| 🤖 核心功能 | ⚙️ 使用要求 |
|:----|:---:|
| ✅ **人脸检测：** 自动识别照片中的人脸并提取特征<br>✅ **智能聚类：** 使用AI算法将相似人脸聚类到同一个人物组<br>✅ **肖像生成：** 自动为每个聚类选择最佳肖像照片<br>✅ **人脸筛选：** 按人脸筛选照片，快速找到特定人物<br>✅ **批量管理：** 批量处理、合并、拆分人物聚类 | ⚠️ **预置模型：** 模型已在系统中内置，无需下载<br>⚠️ **本地处理：** 完全本地运行，无需网络连接<br>⚠️ **隐私安全：** 所有人脸数据存储本地，绝对安全<br>⚠️ **处理速度：** 取决于照片数量，支持批量处理 |

#### 🎯 人脸识别的使用方式

**开始人脸识别：**

- **入口：** 点击导航栏"人脸识别"按钮
- **批量处理：** 系统自动识别所有照片中的人脸
- **进度显示：** 显示处理进度和处理统计信息

**人物管理：**
- **查看人物：** 浏览系统识别的所有人物分组
- **重命名人物：** 为人物设置友好名称
- **优化肖像：** 可选择自动生成高质量圆形头像

#### ⚠️ 人脸识别注意事项

**处理时间：**

- 人脸识别处理速度很快，约为每秒5-10张照片
- 当前浏览器窗口可实时显示进度和最终结果，建议不要关闭，但可以打开新窗口访问照片

**准确性提示：**
- 人脸清晰、正面照片识别准确率最高
- 侧面、模糊、戴口罩照片可能识别失败

### 3.5 🔍 智能搜索

强大的搜索功能让您快速找到需要的照片，支持多种搜索方式和条件组合。

- **全文搜索：** 支持多文本组合全文搜索，支持中文分词和复杂查询

- **关键词搜索：** 支持文件名、描述、标签、分类、AI分析结果搜索

- **人脸筛选：**支持单张人脸筛选个人照片，及多张人脸筛选同框照片

- **条件筛选：** 按日期、质量、相机、格式、标签、分类等条件精确筛选

- **相似照片：** 通过图片悬停功能快速发现相似照片
  - **特征向量搜索：** 基于ResNet50深度特征向量，精度高，适合查找内容相似的照片
  - **智能分析搜索：** 适用于AI分析后，综合多种特征，结果更精准

  

### 3.6 🎨 图像特征提取与相似搜索

基于ResNet50深度学习的图像特征提取功能，为照片生成2048维特征向量，实现高精度的相似照片搜索。

#### 🔍 特征提取功能

| 🤖 核心功能 | ⚙️ 使用要求 |
|:----|:---:|
| ✅ **深度特征提取：** 使用ResNet50模型提取2048维特征向量<br>✅ **批量处理：** 支持批量提取，高效处理大量照片<br>✅ **本地处理：** 完全本地运行，无需网络连接<br>✅ **相似度搜索：** 基于特征向量的高精度相似照片匹配<br>✅ **自动优化：** 使用向量化计算和快速JSON解析，性能优异 | ⚠️ **预置模型：** ResNet50模型已放置在models目录<br>⚠️ **首次提取：** 需要先运行特征提取任务<br>⚠️ **本地处理：** 完全本地运行，保护隐私<br>⚠️ **处理速度：** 处理速度飞快，支持并发处理 |

#### 🎯 特征提取的使用方式

**开始特征提取：**

- **入口：** 点击导航栏"特征提取"按钮
- **批量处理：** 系统自动提取所有照片的特征向量
- **进度显示：** 显示处理进度、成功/失败统计和详细结果

**相似照片搜索：**

- **搜索方式：** 在照片悬停时点击"相似照片"按钮
- **服务选择：** 可选择"特征向量搜索"或"智能分析相似搜索"
- **默认设置：** 可在系统设置中配置默认搜索方式

#### ⚠️ 特征提取注意事项

- 适合查找同一场景、相似角度、相似内容的照片
- 比传统哈希算法更准确，能识别颜色调整、轻微裁剪等变化
- 批处理时，当前浏览器窗口可实时显示进度和最终结果，建议不要关闭，但可以打开新窗口访问照片

### 3.7 🖼️ 照片显示

系统提供多种照片查看和操作方式，让您能够方便地浏览、管理和欣赏您的照片收藏。

#### 👁️ 照片浏览模式

- **网格视图：** 以网格形式显示照片缩略图，便于快速浏览和选择
- **列表视图：** 以列表形式显示，包含更多详细信息和批量操作选项
- **全屏查看：** 点击照片可进入全屏查看模式，欣赏照片细节
- **幻灯片播放：** 连续播放照片，支持自动和手动控制播放速度

#### ⚙️ 照片操作功能

- **悬停预览：** 鼠标悬停显示照片详细信息和快速操作按钮
- **相似照片：** 点击相似照片按钮查看内容相似的相关照片
- **编辑信息：** 修改照片名、描述、添加或编辑标签和分类、补充拍摄时间、地址等
- **批量操作：** 选择多张照片进行批量删除、下载、编辑、重新地址转换、基础分析、AI分析等

#### 📋 照片详情查看

- **EXIF信息：** 查看拍摄参数、相机型号、镜头信息、GPS位置等
- **AI分析结果：** 显示AI识别的场景、物体、人物、情感等分析结果
- **质量评估：** 查看清晰度、亮度、对比度、色彩等质量指标
- **标签管理：** 查看和编辑照片的所有标签和分类信息

### 3.8 ⚙️ 系统配置

通过系统配置页面，您可以根据个人需求调整系统的各项参数和功能设置。

**配置项说明：**
- **AI服务设置：** 配置大模型选择和API密钥
- **存储设置：** 配置照片大小限制和缩略图参数
- **地址解析设置：** 配置GPS转地址服务和API密钥
- **界面设置：** 调整每页显示照片数和相似照片数量
- **搜索设置：** 配置相似度阈值和重复检测阈值
  - **特征向量搜索相似度阈值：** 0.0-1.0，默认0.75（值越高越严格）
  - **智能分析相似度阈值：** 0.0-1.0，用于智能分析相似搜索
  - **默认相似照片搜索方式：** 特征向量搜索/智能分析相似搜索/每次都询问

**配置操作：**
- **修改配置：** 在各配置项中调整参数值
- **保存配置：** 点击"保存配置"按钮应用更改
- **重置配置：** 点击"重置为默认"按钮恢复默认值
- **导出配置：** 点击"导出配置"按钮备份当前配置

---

## 四、配置管理

### 🤖 AI服务设置

- **大模型选择：** qwen-vl-plus、qwen-vl-plus-latest等
- **API密钥：** 从阿里云DashScope获取，支持环境变量
- **安全提示：** 优先使用环境变量，避免配置文件明文存储

### 🗺️ 地址解析服务设置

- **支持的服务：** 高德地图API、离线数据库、Nominatim API
- **配置方式：** 系统配置页面设置默认服务
- **智能选择：** 可设置每次都询问，或默认使用某个服务

### 🎨 界面设置

- **每页显示照片数：** 6、12、18、24、30张可选
- **相似照片数量：** 4、8、12张可选
- **推荐配置：** 每页12张照片，相似照片8张

### 🔍 搜索设置

- **特征向量搜索相似度阈值：**
  - 用于特征向量相似搜索的阈值
- **智能分析相似度阈值：** 
  - 用于智能分析相似搜索的阈值
- **默认相似照片搜索方式：**
  - **特征向量搜索：** 基于ResNet50深度特征，精度高（需要先运行特征提取）
  - **智能分析相似搜索：** 更适用于AI分析后，综合多种特征，结果更精准
  - **每次都询问：** 每次搜索时选择搜索方式



---

## 五、多设备访问

### 🏠 家庭组网访问

系统支持同一家庭网络内的多设备同时访问，实现家庭照片的共享和协作管理。

### 🌐 局域网访问设置

1. **确保设备在同一网络：** 电脑、手机、平板连接到同一个WiFi
2. **扫描二维码:**扫描主机页面上的二维码，其他设备即可访问系统。
3. **防火墙设置：** 确保端口8000未被防火墙阻止

### 📱 设备兼容性

- **桌面浏览器：** Chrome 、Firefox 、Edge 、Safari 等常用浏览器
- **移动设备：** iOS Safari、Android Chrome等现代移动浏览器
- **平板设备：** 完美支持触摸操作，适合家庭成员使用
- **响应式设计：** 自动适配不同屏幕尺寸

---

## 六、系统要求

比较新的普通的windows操作系统的家用电脑即可，性能越好，使用越流畅。

---

## 七、技术支持

- **系统问题：** 查看日志文件logs/app.log
- **配置和使用问题：** 参考系统帮助页面
- **技术问题：** 联系开发人员 alva_xu@sina.com

---

## 九、推广与支持


### 🌟 自由推广

如果您觉得这个照片管理系统好用，不妨分享给您的家人和朋友，让更多人享受到智能照片管理带来的便利，您的推荐是我们最大的动力！

### ❤️ 支持我们

作为独立开发者，我们致力于不断改进系统，为您提供更好的使用体验。如果您愿意，可以通过扫码支持我们继续前行。

<img src="images/qr-code-placeholder.jpg" alt="支持二维码" width="200" height="250" />

*您的每一份支持，都是对我们持续改进的鼓励*

💡 **感谢您的使用！** 您的反馈和支持是我们前进的动力。

---

*© 2025 家庭版智能照片系统 | 数据永不离身，隐私无忧*

